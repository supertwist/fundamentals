# MusicGen notes
**Paraphrased** from this source: https://www.datadriveninvestor.com/2023/08/09/musicgens-parameters-and-what-they-mean/

---
**Prompts:**
+ for tempo, include BPM
+ for audio quality, include “kbps” (kilobits per second) or “kHz” (kilohertz). "Higher values for both kbps and kHz ensure superior recording quality, reducing unwanted background noise and expanding the sound range. MusicGen’s default settings include 320kbps and 48kHz, which are relatively high for MP3 recordings, ensuring a rich and clear sound. However, it is crucial to consider the genre and style of music when choosing audio quality; for instance, some song intentionally incorporates lower audio quality (e.g., 64kbps and 16kHz) to achieve a specific vintage or nostalgic vibe."
+ include time signature

---
**Top-k:**
"Top-k is a crucial parameter in text and music generation models, including MusicGen. It controls the number of most probable next tokens considered during the generation process. The model ranks all potential tokens based on their predicted probabilities and selects the top-k tokens from this list. A smaller value of k results in a more focused and deterministic output, while a larger k value allows for greater diversity in the generated music. Adjusting the top-k parameter enables users to fine-tune the balance between repetition and creativity in the music generated by MusicGen."

+ James H research: define token in the context of audio (sample of 'n' ms?)

---
**Top-p (Nucleus Sampling):**
"Top-p, also known as nucleus sampling or probabilistic sampling, is another important method used during text and music generation. Instead of specifying a fixed number like top-k, top-p considers the cumulative probability distribution of ranked tokens. It selects the smallest possible set of tokens whose cumulative probability exceeds a certain threshold (often denoted as p). This approach ensures that the generated output maintains a balance between diversity and coherence, as it allows for varying the number of tokens considered based on their probabilities. Implementing top-p in MusicGen allows for more controlled and nuanced music generation."

---
**Temperature:**
"The temperature parameter is a key factor in controlling the randomness and creativity of the generated music. During the sampling process, a higher temperature value results in more random and diverse outputs, introducing variability and unpredictability to the music generated by MusicGen. Conversely, a lower temperature value produces more focused and deterministic outputs, potentially resulting in repetitive but structured compositions. Adjusting the temperature parameter allows users to tailor the level of creativity and coherence they desire in the generated music."

---
**Classifier-Free Guidance:**
"Classifier-Free Guidance is an advanced technique used in some music generation models, including MusicGen. It involves training a separate classifier network on labeled data to recognize specific musical characteristics or styles.

During the generation process, the output of the MusicGen model is evaluated by the classifier, and the generator is encouraged to produce music that aligns with the desired characteristics or style. This approach empowers users with more precise control over the generated music, enabling them to specify certain attributes they want MusicGen to capture. The incorporation of Classifier-Free Guidance enhances the versatility and adaptability of the music generation process."

+ James H research: how to train a classifier network; data sources? how much data needed? can this be done with 10 labeled samples?
